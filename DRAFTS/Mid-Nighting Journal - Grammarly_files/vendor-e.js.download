"use strict";(self.webpackChunk_grammarly_denali_app=self.webpackChunk_grammarly_denali_app||[]).push([[5335],{80547:(e,r,n)=>{n.d(r,{T:()=>w});var t=n(66202),i=n(65390),o=n(46238),a=n(94855),s=n(84647),u=n(99050),c=n(85668),l=n(17329),d=n(82775),f=n(13970),p=Object.defineProperty,g=Object.defineProperties,h=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(e,r,n)=>r in e?p(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;class w{constructor(e,r,n,t,i){this._storage=e,this._sendStorageMessage=r,this._canSaveEntryToStorage=n,this.getCAPIWSMessageSizeLimit=t,this._monitoringHandler=i,this._guardStorageServerMessage=c.n3(u.Schemable)(d.FA.ServerMessageImplementations)}handleMessage(e){return this._guardStorageServerMessage.is(e)?(this._handleStorageMessage(e),!0):!!d.Hi.is(e)}_handleStorageMessage(e){switch(e.action){case"storage:get":return(0,s.pipe)(this._storage.get((r=((e,r)=>{for(var n in r||(r={}))y.call(r,n)&&b(e,n,r[n]);if(m)for(var n of m(r))v.call(r,n)&&b(e,n,r[n]);return e})({},e),n={maxResponseSize:(0,s.pipe)(this.getCAPIWSMessageSizeLimit(),i.map((e=>e-1e3)),i.toUndefined)},g(r,h(n)))),a.bK((r=>(0,s.pipe)(this._sendStorageMessage({id:e.id,action:"storage:entries",data:r.entries}),a.wu((e=>new l.aq("Error sending storage:entries",e)),(()=>({data:r})))))),o.map(t.fold((r=>this._monitoringHandler.onStorageGetError({request:e,error:r})),(({data:r})=>{this._monitoringHandler.onStorageGetSuccess({request:e,entriesCount:r.entries.length,entriesDropped:r.entriesDropped})}))))().catch((r=>this._monitoringHandler.onStorageGetError({request:e,error:new l.aq("Promise rejection",r)})));case"storage:clear":return(0,s.pipe)(this._storage.clear(e),o.map(t.fold((r=>this._monitoringHandler.onStorageClearError({request:e,error:r})),(()=>this._monitoringHandler.onStorageClearSuccess({request:e})))))().catch((r=>this._monitoringHandler.onStorageClearError({request:e,error:new l.aq("Promise rejection",r)})));case"storage:save":return this._canSaveEntryToStorage.catch((()=>!1)).then((r=>r?(0,s.pipe)(this._storage.save(e),o.map(t.fold((r=>this._monitoringHandler.onStorageSaveError({request:e,error:r})),(()=>this._monitoringHandler.onStorageSaveSuccess({request:e,bytesCount:(0,f.d)(e.data)})))))().catch((r=>this._monitoringHandler.onStorageSaveError({request:e,error:new l.aq("Promise rejection",r)}))):this._monitoringHandler.onCannotSaveEntry({request:e})));default:return(0,s.absurd)(e)}var r,n}}},99050:(e,r,n)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.WithRefine=r.WithUnion=r.WithUnknownContainers=r.Schemable=r.URI=r.id=r.compose=r.zero=r.alt=r.readonly=r.lazy=r.sum=r.union=r.intersect=r.tuple=r.record=r.array=r.partial=r.type=r.struct=r.nullable=r.refine=r.UnknownRecord=r.UnknownArray=r.boolean=r.number=r.string=r.literal=void 0;var t=n(84647),i=n(69779),o=n(55667);r.literal=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return{is:function(r){return-1!==e.findIndex((function(e){return e===r}))}}},r.string={is:function(e){return"string"==typeof e}},r.number={is:function(e){return"number"==typeof e&&!isNaN(e)}},r.boolean={is:function(e){return"boolean"==typeof e}},r.UnknownArray={is:Array.isArray},r.UnknownRecord={is:function(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}},r.refine=function(e){return function(r){return{is:function(n){return r.is(n)&&e(n)}}}},r.nullable=function(e){return{is:function(r){return null===r||e.is(r)}}},r.struct=function(e){return i.pipe(r.UnknownRecord,r.refine((function(r){for(var n in e)if(!(n in r)||!e[n].is(r[n]))return!1;return!0})))},r.type=r.struct,r.partial=function(e){return i.pipe(r.UnknownRecord,r.refine((function(r){for(var n in e){var t=r[n];if(void 0!==t&&!e[n].is(t))return!1}return!0})))},r.array=function(e){return i.pipe(r.UnknownArray,r.refine((function(r){return r.every(e.is)})))},r.record=function(e){return i.pipe(r.UnknownRecord,r.refine((function(r){for(var n in r)if(!e.is(r[n]))return!1;return!0})))},r.tuple=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return{is:function(r){return Array.isArray(r)&&r.length===e.length&&e.every((function(e,n){return e.is(r[n])}))}}},r.intersect=function(e){return function(r){return{is:function(n){return r.is(n)&&e.is(n)}}}},r.union=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return{is:function(r){return e.some((function(e){return e.is(r)}))}}},r.sum=function(e){return function(n){return i.pipe(r.UnknownRecord,r.refine((function(r){var t=r[e];return t in n&&n[t].is(r)})))}},r.lazy=function(e){var r=o.memoize(e);return{is:function(e){return r().is(e)}}},r.readonly=t.identity,r.alt=function(e){return function(r){return{is:function(n){return r.is(n)||e().is(n)}}}},r.zero=function(){return{is:function(e){return!1}}},r.compose=function(e){return function(r){return{is:function(n){return r.is(n)&&e.is(n)}}}},r.id=function(){return{is:function(e){return!0}}},r.URI="io-ts/Guard",r.Schemable={URI:r.URI,literal:r.literal,string:r.string,number:r.number,boolean:r.boolean,nullable:r.nullable,type:r.type,struct:r.struct,partial:r.partial,record:r.record,array:r.array,tuple:r.tuple,intersect:r.intersect,sum:r.sum,lazy:function(e,n){return r.lazy(n)},readonly:r.readonly},r.WithUnknownContainers={UnknownArray:r.UnknownArray,UnknownRecord:r.UnknownRecord},r.WithUnion={union:r.union},r.WithRefine={refine:r.refine}},85668:(e,r,n)=>{r.n3=void 0;n(55667);r.n3=function(e){return function(r){return r(e)}}},55667:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.intersect_=r.memoize=void 0,r.memoize=function(e){var r=new Map;return function(n){if(!r.has(n)){var t=e(n);return r.set(n,t),t}return r.get(n)}};var n=function(e){return null===e?"null":typeof e};r.intersect_=function(e,r){if(void 0!==e&&void 0!==r){var t=n(e),i=n(r);if("object"===t||"object"===i)return Object.assign({},e,r)}return r}},34534:(e,r,n)=>{n.d(r,{P:()=>i});var t=n(85886);const i=(0,n(95140).w)("nocolor",(({title:e,titleId:r,desc:n,descId:i,...o})=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20","aria-hidden":"true","data-icon":"AppsMicrosoft",stroke:"transparent","aria-labelledby":r,"aria-describedby":i,...o},n?t.createElement("desc",{id:i},n):null,e?t.createElement("title",{id:r},e):null,t.createElement("path",{fill:"#F35325",d:"M2 2h7.62v7.62H2z"}),t.createElement("path",{fill:"#05A6F0",d:"M2 10.38h7.62V18H2z"}),t.createElement("path",{fill:"#81BC06",d:"M10.38 2H18v7.62h-7.62z"}),t.createElement("path",{fill:"#FFBA08",d:"M10.38 10.38H18V18h-7.62z"}))))},65165:(e,r,n)=>{n.d(r,{e:()=>i});var t=n(85886);const i=(0,n(95140).w)("nocolor",(({title:e,titleId:r,desc:n,descId:i,...o})=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","data-icon":"SocialApple",stroke:"transparent","aria-labelledby":r,"aria-describedby":i,...o},n?t.createElement("desc",{id:i},n):null,e?t.createElement("title",{id:r},e):null,t.createElement("path",{fill:"#0E101A",d:"M20.144 17.586a11 11 0 0 1-1.085 1.933q-.857 1.21-1.398 1.674-.836.763-1.797.784-.69 0-1.659-.392t-1.786-.392q-.856 0-1.838.392-.982.394-1.587.413-.92.04-1.837-.805-.586-.505-1.462-1.733-.94-1.31-1.546-3.043Q3.5 14.545 3.5 12.79q0-2.01.878-3.465a5.1 5.1 0 0 1 1.838-1.842A5 5 0 0 1 8.7 6.788q.73.002 1.922.443 1.19.443 1.525.444.251 0 1.69-.523 1.359-.484 2.298-.404 2.549.202 3.822 1.994-2.277 1.369-2.255 3.827.021 1.915 1.4 3.181a4.6 4.6 0 0 0 1.397.909q-.167.482-.356.927M16.249 2.4q0 1.5-1.103 2.799c-.887 1.027-1.96 1.621-3.124 1.527A3 3 0 0 1 12 6.347c0-.96.422-1.987 1.17-2.828q.562-.638 1.427-1.061.864-.418 1.632-.458.022.2.021.4"}))))}}]);